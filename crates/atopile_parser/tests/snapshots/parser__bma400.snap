---
source: crates/atopile_parser/tests/parser.rs
expression: output
---
(
    [
        Spanned(
            Import(
                ImportStmt {
                    from_path: Spanned(
                        "generics/interfaces.ato",
                        5..30,
                    ),
                    imports: [
                        Spanned(
                            Symbol(
                                "Power",
                            ),
                            38..43,
                        ),
                        Spanned(
                            Symbol(
                                "I2C",
                            ),
                            45..48,
                        ),
                        Spanned(
                            Symbol(
                                "SPI",
                            ),
                            50..53,
                        ),
                        Spanned(
                            Symbol(
                                "GPIO",
                            ),
                            55..59,
                        ),
                    ],
                },
            ),
            0..59,
        ),
        Spanned(
            Import(
                ImportStmt {
                    from_path: Spanned(
                        "generics/capacitors.ato",
                        65..90,
                    ),
                    imports: [
                        Spanned(
                            Symbol(
                                "Capacitor",
                            ),
                            98..107,
                        ),
                    ],
                },
            ),
            60..107,
        ),
        Spanned(
            Import(
                ImportStmt {
                    from_path: Spanned(
                        "_BMA400/BMA400.ato",
                        113..133,
                    ),
                    imports: [
                        Spanned(
                            Symbol(
                                "BMA400",
                            ),
                            141..147,
                        ),
                    ],
                },
            ),
            108..147,
        ),
        Spanned(
            Block(
                BlockStmt {
                    kind: Spanned(
                        Module,
                        149..155,
                    ),
                    name: Spanned(
                        Symbol(
                            "Bma400",
                        ),
                        156..162,
                    ),
                    parent: None,
                    body: [
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "Ultra-low power triaxial accelerometer driver module based on the BMA400 from Bosch.",
                                        171..255,
                                    ),
                                },
                            ),
                            171..255,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "Features:",
                                        265..274,
                                    ),
                                },
                            ),
                            265..274,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- Ultra-low power consumption (14.5μA in normal mode, 850nA in low-power mode)",
                                        279..357,
                                    ),
                                },
                            ),
                            279..357,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- 12-bit digital resolution",
                                        362..389,
                                    ),
                                },
                            ),
                            362..389,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- Programmable measurement ranges: ±2g, ±4g, ±8g, ±16g",
                                        394..448,
                                    ),
                                },
                            ),
                            394..448,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- Built-in power management with auto wake-up/sleep capability",
                                        453..515,
                                    ),
                                },
                            ),
                            453..515,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- Integrated FIFO (1KB)",
                                        520..543,
                                    ),
                                },
                            ),
                            520..543,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- Smart interrupts including:",
                                        548..577,
                                    ),
                                },
                            ),
                            548..577,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- Activity/inactivity detection",
                                        584..615,
                                    ),
                                },
                            ),
                            584..615,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- Step counting with low power consumption (4μA)",
                                        622..670,
                                    ),
                                },
                            ),
                            622..670,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- Orientation detection",
                                        677..700,
                                    ),
                                },
                            ),
                            677..700,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- Tap/double-tap sensing",
                                        707..731,
                                    ),
                                },
                            ),
                            707..731,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- Digital interfaces: I2C or SPI",
                                        736..768,
                                    ),
                                },
                            ),
                            736..768,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- VDDIO voltage range: 1.2V to 3.6V",
                                        773..808,
                                    ),
                                },
                            ),
                            773..808,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "- VDD voltage range: 1.7V to 3.6V",
                                        813..846,
                                    ),
                                },
                            ),
                            813..846,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "Example Usage:",
                                        856..870,
                                    ),
                                },
                            ),
                            856..870,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "```",
                                        875..878,
                                    ),
                                },
                            ),
                            875..878,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "from 'generics/interfaces.ato' import Power, I2C, GPIO",
                                        883..937,
                                    ),
                                },
                            ),
                            883..937,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "from 'bma400/bma400.ato' import Bma400, Bma400_I2C",
                                        942..992,
                                    ),
                                },
                            ),
                            942..992,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "module UserBoard:",
                                        1002..1019,
                                    ),
                                },
                            ),
                            1002..1019,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "'''User board with BMA400 accelerometer'''",
                                        1028..1070,
                                    ),
                                },
                            ),
                            1028..1070,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "# Interfaces",
                                        1088..1100,
                                    ),
                                },
                            ),
                            1088..1100,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "power_1v8 = new Power  # 1.8V power supply",
                                        1109..1151,
                                    ),
                                },
                            ),
                            1109..1151,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "i2c = new I2C          # I2C bus",
                                        1160..1192,
                                    ),
                                },
                            ),
                            1160..1192,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "int1 = new GPIO        # Interrupt 1 input",
                                        1201..1243,
                                    ),
                                },
                            ),
                            1201..1243,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "# Accelerometer",
                                        1261..1276,
                                    ),
                                },
                            ),
                            1261..1276,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "accel = new Bma400",
                                        1285..1303,
                                    ),
                                },
                            ),
                            1285..1303,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "accel.ic -> Bma400_I2C  # Use I2C interface",
                                        1312..1355,
                                    ),
                                },
                            ),
                            1312..1355,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "# Connections",
                                        1373..1386,
                                    ),
                                },
                            ),
                            1373..1386,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "accel.power ~ power_1v8",
                                        1395..1418,
                                    ),
                                },
                            ),
                            1395..1418,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "accel.i2c ~ i2c",
                                        1427..1442,
                                    ),
                                },
                            ),
                            1427..1442,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "accel.int1 ~ int1",
                                        1451..1468,
                                    ),
                                },
                            ),
                            1451..1468,
                        ),
                        Spanned(
                            Comment(
                                CommentStmt {
                                    comment: Spanned(
                                        "```",
                                        1473..1476,
                                    ),
                                },
                            ),
                            1473..1476,
                        ),
                        Spanned(
                            Signal(
                                SignalStmt {
                                    name: Spanned(
                                        Symbol(
                                            "gnd",
                                        ),
                                        1501..1504,
                                    ),
                                },
                            ),
                            1494..1504,
                        ),
                    ],
                },
            ),
            149..1515,
        ),
    ],
    [],
)
